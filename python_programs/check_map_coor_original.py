import matplotlib.pyplot as plt
from PIL import Image

# Load your map image
image_path = 'maps/hiroshima_red.JPG'  # Replace with your map image file path
image = Image.open(image_path)

# Display the image with matplotlib
fig, ax = plt.subplots()
ax.imshow(image)
coords = []  # List to store the clicked coordinates

# Function to capture mouse click coordinates
def onclick(event):
    # Check if the click was inside the image axes
    if event.xdata is not None and event.ydata is not None:
        # Round the coordinates and store them
        x, y = int(event.xdata), int(event.ydata)
        coords.append((x, y))
        print(f"Clicked coordinates: {x}, {y}")
        # Plot the point on the image
        ax.plot(x, y, 'ro')  # Red dot for the clicked point
        fig.canvas.draw()

# Connect the click event to the onclick function
fig.canvas.mpl_connect('button_press_event', onclick)

# Show the image and wait for clicks
plt.title("Click to capture coordinates on the map")
plt.show()

# Output the final coordinates after closing the plot
print("All captured coordinates:", coords)


"""
yuki akiooda
All captured coordinates: [(75, 203), (57, 214), (39, 219), (42, 240), (54, 271), (45, 256), (62, 279), (60, 293), (69, 296), (83, 296), (98, 296), (116, 289), (131, 275), (138, 270), (137, 253), (125, 232), (122, 220), (116, 209), (122, 196), (113, 186), (105, 196), (93, 206), (63, 203)]

akitakada
 [(189, 145), (206, 130), (222, 127), (235, 127), (254, 127), (245, 137), (262, 138), (274, 152), (274, 171), (278, 188), (280, 205), (283, 223), (193, 161), (199, 175), (206, 196), (200, 215), (200, 230), (210, 237), (220, 231), (235, 231), (242, 235), (245, 256), (258, 252), (274, 242), (280, 237)]
 
shirokiyama
[(216, 235), (206, 250), (202, 262), (206, 284), (226, 272), (241, 265), (244, 256), (241, 235), (229, 233)]
 
 higashihiroshima
 [(264, 250), (249, 268), (227, 275), (219, 290), (234, 303), (231, 323), (230, 343), (217, 354), (228, 361), (238, 366), (252, 360), (263, 360), (270, 370), (276, 372), (289, 367), (306, 368), (306, 354), (306, 339), (285, 334), (287, 322), (293, 312), (313, 315), (316, 305), (315, 290), (324, 290), (314, 277), (301, 263), (278, 238), (285, 230), (301, 231), (313, 231), (318, 239), (307, 252)]
 
 takehara
 [(299, 314), (308, 317), (318, 316), (284, 316), (291, 324), (281, 331), (297, 334), (306, 342), (304, 354), (305, 364), (318, 360), (325, 356), (325, 328), (334, 333), (335, 344), (347, 345), (355, 349), (345, 352), (334, 354)]
 
 kure kagamikame
 All captured coordinates: [(239, 424), (224, 420), (234, 412), (248, 411), (260, 411), (275, 416), (280, 422), (272, 426), (259, 425), (246, 421)]
 
 
 
 etajima
 All captured coordinates: [(165, 421), (168, 406), (173, 394), (168, 378), (158, 368), (150, 369), (142, 379), (134, 380), (128, 383), (128, 397), (129, 406), (137, 413), (145, 419), (147, 433), (148, 439), (167, 436), (158, 436)]
 
 kurahashi
All captured coordinates: [(204, 442), (195, 430), (194, 419), (187, 409), (172, 419), (172, 431), (168, 443), (154, 455), (162, 463), (172, 461), (190, 461), (185, 470), (186, 479), (197, 467), (200, 455)]

sera
[(345, 245), (335, 240), (324, 233), (316, 226), (314, 214), (320, 198), (331, 204), (346, 211), (357, 202), (373, 206), (390, 207), (399, 213), (408, 221), (408, 235), (406, 239), (397, 256), (378, 254), (369, 248), (350, 252)]

iwamichi
[(402, 251), (397, 260), (383, 262), (375, 276), (380, 286), (394, 286), (401, 301), (408, 308), (407, 318), (409, 327), (420, 338), (433, 338), (440, 327), (438, 315), (435, 299), (431, 290), (434, 287), (437, 277), (427, 269), (436, 263), (427, 259), (414, 250)]

fuchu
[(435, 213), (435, 235), (441, 235), (445, 250), (439, 263), (423, 258), (413, 246), (404, 244), (411, 225), (403, 220), (391, 211), (392, 195), (394, 181), (402, 171), (412, 169), (417, 187), (425, 203)]

shinseki
 [(412, 178), (412, 161), (401, 147), (401, 131), (411, 128), (423, 119), (432, 119), (439, 126), (446, 129), (454, 121), (464, 122), (476, 122), (486, 128), (486, 144), (490, 159), (488, 176), (487, 189), (476, 204), (464, 208), (451, 200), (442, 209), (429, 209), (427, 199), (419, 186)]
 
 shobara
 [(401, 38), (390, 51), (381, 73), (391, 95), (418, 92), (449, 75), (463, 62), (458, 40), (428, 24), (413, 21)]
 
 

"""
